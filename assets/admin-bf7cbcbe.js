import{r as o,j as e,S as de}from"./index-b41d15ee.js";import{P as q,C as K,a as W,b as L,T as J,S as c}from"./sweetalert2.esm.all-403a7e4f.js";import{a as d}from"./axios-19f2ad51.js";const ue=["Regional Office","Bukidnon Provincial Office","Camiguin Provincial Office","Misamis Oriental Provincial Office","Misamis Occidental Provincial Office","Lanao del Norte Provincial Office","Iligan City Office"];function ge(){const[x,N]=o.useState([]),[S,T]=o.useState([]),[j,i]=o.useState(!1),[F,m]=o.useState(""),[O,E]=o.useState(""),[b,D]=o.useState(null),[A,k]=o.useState(null),[f,R]=o.useState("M"),[$,C]=o.useState(!1),[Z,M]=o.useState(null),[p,G]=o.useState("candidates"),Q=[...["Gualdaquever, Kinnara D.","CabaÃ±ero, Neil Benedict A.","Buot, Michael Andrew E","Macagaan, Alyssa Marie R.","NADALA, MA. THERESA ROCHELLE D.","NORHAIFAH AMORAN","Alva, Maria Cecilia, Tomaclas","WABE, JENIEL C.","Garde, Tricia R.","Bandiala, Angel Rose J.","CabaÃ±ero, Junard B.","Vistal, Allan A.","BALANGUE, ASHLIA S.","Indad, Marwa B.","Galua, Fe Marie Burlat","Nacilla, Nideliza Fe, Oyao","Genon, Danilo Pabonita","JACALAN, DANICA V.","BASADRE, REY VICENTE  S.","Cuerquis, Alaiza Mae A.","ASUNCION, KENNETH T.","Mahawan, Ma. Julisa Antonette P.","Palacios, Reyson Benedicto","Talandron, Peter Jerome, A.","Vicerra, Jules Des'ree M.","Estillore Eusebio Yana","BregoÃ±os Zenita Lopez","Smith, Owieda B.","Llanes, Jason S.","Caulin, Ian Nico M.","Reyes, Ryan Jay T.","Amores, Almarie C.","Daroy, Jimyco B.","Abbas, Jawad, R.","Macarimbang Albanie Alapa","Arrozado David Berones","Dael, Angelica Rose R.","Jomaya, Luther John J.","Castil, Judy Ann, S.","Vallespin, Mariel Faith D.","CADIZ, KRYZLL MAE L.","Marciano J. Ramayla Jr.","Cabactulan, Mark Clied, G.","Guzman,Rolando T.","Lacadin, Keren Happuch A.","Nova Jane N. SalvaÃ±a","SUMIMBA,CIRILO A.","Jabiniao, Rezllhe F.","Mendrez, Mark Ian M.","Nagamora, Jamalicah A.","Omar, Mohammad Shawiy Amanoddin","Dumio, Jaymark, D","Lumogdang, Christell Faith D.","Sagocsoc, James Kevin, M","Asum, Aaliyah P.","Turrobia, Jelin A.","Carangan, Ella Grace S.","Macabuat, Acmilah M","Cabahit, Elezah May S.","Garde, Tricia, R.","SABLAS, BRYAN JOHN M.","Duhaylungsod  Glenn C.","Raposala, Eugene III C.","Ladra,Cristeve S.","Nadala. Ma. Theresa Rochelle D.","Datoy, Eric P.","MANATAD, REYNALDO, ARCILLAS","Rivera, Anthony Ludovico C.","Abao Edison Dulhao","Morden Jefrey","MAGHACOT, JANE T.","Pios, Karl Jasson B.","MIER RICHARD CAGALITAN","Pasandalan, Alnorodden B.","Pangarungan, Ayman S.","Mercado, Ernest Justin M.","AZIS, SALWAH, D.","Vicerra, Philip.V","Bandiala, Angel Rose J.","Bondal, Lois Francis Banghal","Macabuat, Acmilah M","NADALA, MA. THERESA ROCHELLE D.","Cabillo, Johanna Zola A.","Azis,Salwah D.","Ditucalan Aminoden M","Estillore, Eusebio Y.","Pakino, Jerile, R","Cotamora Mario C.","MARIO S. MALINIS","Lariosa,Dante Daapong","Alva, Maria Cecilia T.","Labadan, Jaide B.","Comadug, Farhana Domadalug","ACTUB, EMELINE H.","Nuska, Alvin V.","Duhaylungsod Glenn C","Alva, Maria Cecilia T.","Labadan, Hope Shalom E.","Mulay, Jeamaluding A.","Morden Jefrey","Nacilla, Nideliza Fe, O","Raniai 1, Juwairiyah Rauffa A.","Ligan, Elbert Laurence, L.","Mangadang, Dibangkitun L.","ZAMORA, JUNIEJO O.","Genon, Danilo Pabonita","DANILO P. GENON","Lungay, Anthony, S.","Maruhom, Jehan A","Dipatuan, Noroden, M.","ABUBACAR JAWWAD RAOF B.","Marohombsar, ANNA FARINA M.","Raniai, Junainah Azima II A.","Domiangca, Norhata D.","Aliasgar, Najidah E.","Mulay, Jeamaluding A.","Luchana, Ramon Erlo, D.","BACARAT, MANGONTAWAR O.","BACARAT, SANDIGAN O.","Engr. Jeoffrey F. Albay","Khiro Climense Pudadera","Dave Christian V. Rivera","Munich Cove Tangapa","Marifel Grace T. Caga","Camille S. Decinilla","Homyl P. Espinosa","Trisha Mae M. Gonzales","Ruthcel N. Molijon","Ira Mae S. Nacalaban","Jhonel M. Quilab","Vanessa Pearl B. Veloz","Riecagen P. Calamba","Desirie O. Escalante","Humphrey E. Manuel","Alliana Marie M. OÃ±ate","Angelyn E. Petallo","Alvin M. Poro Jr.","Kenneth Jay G. Sabuero","William E. Santillan Jr.","Ryan G. Sarip","Moammar A. Usman","Sohaib M. Amerol","Amalhaya Hadji Asis","Bairona Pangaga","Jherlen D. Alingal","Julie Anne Amor","VERLIE FEA GRACE P. CELLAN","Sarah U. Palma","Dessa Mae T. Manlangit","SITTIE RAHMA V. ALAWI"].map(a=>({value:a,label:a})),{value:"others",label:"+ Others (Specify)",isSpecial:!0}],_={control:a=>({...a,backgroundColor:"rgba(0, 0, 0, 0.3)",borderColor:"rgba(59, 130, 246, 0.3)",borderRadius:"0.5rem",color:"white",cursor:"pointer","&:hover":{borderColor:"rgba(59, 130, 246, 0.5)"}}),input:a=>({...a,color:"white"}),singleValue:a=>({...a,color:"white"}),placeholder:a=>({...a,color:"rgba(107, 114, 128, 0.7)"}),menu:a=>({...a,backgroundColor:"rgba(0, 0, 0, 0.8)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"0.5rem"}),option:(a,r)=>({...a,backgroundColor:r.isSelected?"rgba(59, 130, 246, 0.5)":r.isFocused?"rgba(59, 130, 246, 0.2)":"transparent",color:r.data.isSpecial?"rgba(192, 132, 250, 1)":"white",fontWeight:r.data.isSpecial?"600":"normal",cursor:"pointer",borderTop:r.data.isSpecial?"1px solid rgba(59, 130, 246, 0.3)":"none",paddingTop:r.data.isSpecial?"0.75rem":void 0,"&:hover":{backgroundColor:r.data.isSpecial?"rgba(147, 51, 234, 0.2)":"rgba(59, 130, 246, 0.2)"}}),menuList:a=>({...a,maxHeight:"12rem",display:"flex",flexDirection:"column"})},[H,U]=o.useState(null),[s,u]=o.useState({title:"",location:"",age:0,image:"",date:new Date().toISOString().split("T")[0],gender:"M"}),[z,P]=o.useState(null),[g,y]=o.useState({name:"",photo:""}),X=async()=>{try{i(!0);const a=await d.get("/api/v1/vote/candidates/");let r=[];a.data.mr||a.data.ms?r=[...a.data.mr||[],...a.data.ms||[]]:a.data.results?r=a.data.results:Array.isArray(a.data)&&(r=a.data),N(r),m("")}catch(a){m("Failed to fetch candidates"),N([]),console.error(a)}finally{i(!1)}};o.useEffect(()=>{X(),w()},[]);const w=async()=>{try{i(!0);const a=await d.get("/api/v1/rate/performers/");T(Array.isArray(a.data)?a.data:[]),m("")}catch(a){m("Failed to fetch performers"),T([]),console.error(a)}finally{i(!1)}},v=a=>{const{name:r,value:t}=a.target;u({...s,[r]:r==="age"?parseFloat(t):t})},ee=a=>{(a==null?void 0:a.value)==="others"?(C(!0),M(null),u({...s,title:""})):(C(!1),M(a),u({...s,title:(a==null?void 0:a.value)||""}))},ae=a=>{var t;const r=(t=a.target.files)==null?void 0:t[0];if(r){U(r);const l=new FileReader;l.onloadend=()=>{u({...s,image:l.result})},l.readAsDataURL(r)}},re=async a=>{var r,t;a.preventDefault(),i(!0),m(""),E("");try{const l=new FormData;if(l.append("title",s.title),l.append("location",s.location),l.append("age",s.age.toString()),l.append("date",s.date),l.append("gender",s.gender),H&&l.append("image",H),b){const n=await d.put(`/api/v1/vote/update/${b}/`,l);N(x.map(h=>h.id===b?{...n.data,gender:s.gender}:h)),D(null),c.fire({icon:"success",title:"Updated!",text:"Candidate updated successfully!",confirmButtonColor:"#040b35",background:"#0a1535",color:"#ffffff"})}else{const n=await d.post("/api/v1/vote/candidates/",l);N([...x,{...n.data,gender:s.gender}]),c.fire({icon:"success",title:"Created!",text:"Candidate created successfully!",confirmButtonColor:"#040b35",background:"#0a1535",color:"#ffffff"})}setTimeout(()=>E(""),3e3)}catch(l){const n=((t=(r=l.response)==null?void 0:r.data)==null?void 0:t.message)||"Failed to save candidate";c.fire({icon:"error",title:"Error!",text:n,confirmButtonColor:"#040b35",background:"#0a1535",color:"#ffffff"}),console.error("Error details:",l)}finally{i(!1)}},V=a=>{u(a),D(a.id||null),R(a.gender)},Y=async a=>{var t,l;if((await c.fire({title:"Are you sure?",text:"You will not be able to recover this candidate!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#040b35",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel",background:"#0a1535",color:"#ffffff"})).isConfirmed){i(!0),m(""),E("");try{await d.delete(`/api/v1/vote/candidates/${a}/`),N(x.filter(n=>n.id!==a)),c.fire({icon:"success",title:"Deleted!",text:"Candidate deleted successfully!",confirmButtonColor:"#040b35",background:"#0a1535",color:"#ffffff"})}catch(n){const h=((l=(t=n.response)==null?void 0:t.data)==null?void 0:l.message)||"Failed to delete candidate";c.fire({icon:"error",title:"Error!",text:h,confirmButtonColor:"#040b35",background:"#0a1535",color:"#ffffff"}),console.error(n)}finally{i(!1)}}},le=()=>{D(null),C(!1),M(null),U(null),u({title:"",location:"",age:0,image:"",date:new Date().toISOString().split("T")[0],gender:"M"})},te=a=>{const{name:r,value:t}=a.target;y({...g,[r]:t})},se=a=>{var t;const r=(t=a.target.files)==null?void 0:t[0];if(r){P(r);const l=new FileReader;l.onloadend=()=>{y({...g,photo:l.result})},l.readAsDataURL(r)}},oe=async a=>{var r,t;a.preventDefault(),i(!0);try{const l=new FormData;l.append("name",g.name),z&&l.append("photo",z),A?(await d.put(`/api/v1/rate/performers/${A}/`,l),await w(),k(null),c.fire({icon:"success",title:"Updated!",text:"Performer updated successfully!",confirmButtonColor:"#040b35",background:"#0a1535",color:"#ffffff"})):(await d.post("/api/v1/rate/performers/",l),await w(),c.fire({icon:"success",title:"Created!",text:"Performer created successfully!",confirmButtonColor:"#040b35",background:"#0a1535",color:"#ffffff"})),P(null),y({name:"",photo:""})}catch(l){const n=((t=(r=l.response)==null?void 0:r.data)==null?void 0:t.message)||"Failed to save performer";c.fire({icon:"error",title:"Error!",text:n,confirmButtonColor:"#040b35",background:"#0a1535",color:"#ffffff"}),console.error("Error details:",l)}finally{i(!1)}},ne=a=>{y(a),k(a.id||null)},ie=async a=>{var t,l;if((await c.fire({title:"Are you sure?",text:"You will not be able to recover this performer!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#040b35",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel",background:"#0a1535",color:"#ffffff"})).isConfirmed){i(!0);try{await d.delete(`/api/v1/rate/performers/${a}/`),await w(),c.fire({icon:"success",title:"Deleted!",text:"Performer deleted successfully!",confirmButtonColor:"#040b35",background:"#0a1535",color:"#ffffff"})}catch(n){const h=((l=(t=n.response)==null?void 0:t.data)==null?void 0:l.message)||"Failed to delete performer";c.fire({icon:"error",title:"Error!",text:h,confirmButtonColor:"#040b35",background:"#0a1535",color:"#ffffff"}),console.error(n)}finally{i(!1)}}},ce=()=>{k(null),P(null),y({name:"",photo:""})},B=x.filter(a=>a.gender==="M"),I=x.filter(a=>a.gender==="F");return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-[#040b35] to-[#1a1a3e] text-white p-4 sm:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-[#ffcc75] mb-2",children:"Admin Dashboard"}),e.jsx("p",{className:"text-blue-200 text-lg",children:"Manage Mr. and Ms. Best Dressed Candidates"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[e.jsx("button",{onClick:()=>G("candidates"),className:"px-6 py-2.5 rounded-full font-semibold transition-all",style:{background:p==="candidates"?"linear-gradient(135deg, rgba(59, 130, 246, 0.6) 0%, rgba(147, 51, 234, 0.6) 100%)":"rgba(255, 255, 255, 0.1)",border:p==="candidates"?"1px solid rgba(59, 130, 246, 0.8)":"1px solid rgba(255, 255, 255, 0.2)",color:"white"},children:"Candidates"}),e.jsx("button",{onClick:()=>G("performers"),className:"px-6 py-2.5 rounded-full font-semibold transition-all",style:{background:p==="performers"?"linear-gradient(135deg, rgba(147, 51, 234, 0.6) 0%, rgba(236, 72, 153, 0.6) 100%)":"rgba(255, 255, 255, 0.1)",border:p==="performers"?"1px solid rgba(147, 51, 234, 0.8)":"1px solid rgba(255, 255, 255, 0.2)",color:"white"},children:"Performers"})]}),F&&e.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500 rounded-lg text-red-200",children:F}),O&&e.jsx("div",{className:"mb-6 p-4 bg-green-500/20 border border-green-500 rounded-lg text-green-200",children:O}),e.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[p==="candidates"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"p-6 rounded-2xl sticky top-8",style:{background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)"},children:[e.jsxs("h2",{className:"text-2xl font-bold text-blue-300 mb-6 flex items-center gap-2",children:[e.jsx(q,{className:"w-6 h-6"}),b?"Edit Candidate":"Add New Candidate"]}),e.jsxs("form",{onSubmit:re,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-blue-200 mb-2",children:"Name *"}),$?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",name:"title",value:s.title,onChange:v,placeholder:"Type name here...",required:!0,className:"flex-1 px-4 py-2 bg-black/30 border border-blue-300/30 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-blue-400"}),e.jsx("button",{type:"button",onClick:()=>{C(!1),M(null),u({...s,title:""})},className:"px-3 py-2 bg-gray-600 hover:bg-gray-700 rounded-lg text-white transition-colors",children:"Back"})]}):e.jsx(de,{options:Q,value:Z,onChange:ee,placeholder:"Search or select a name...",isClearable:!0,isSearchable:!0,styles:_,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-blue-200 mb-2",children:"Location *"}),e.jsxs("select",{name:"location",value:s.location,onChange:v,required:!0,className:"w-full px-4 py-2 bg-black/30 border border-blue-300/30 rounded-lg text-white focus:outline-none focus:border-blue-400",children:[e.jsx("option",{value:"",children:"Select a location"}),ue.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-blue-200 mb-2",children:"Age *"}),e.jsx("input",{type:"number",name:"age",value:s.age,onChange:v,step:"1",min:"0",max:"120",required:!0,className:"w-full px-4 py-2 bg-black/30 border border-blue-300/30 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-blue-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-blue-200 mb-2",children:"Date *"}),e.jsx("input",{type:"date",name:"date",value:s.date,onChange:v,required:!0,className:"w-full px-4 py-2 bg-black/30 border border-blue-300/30 rounded-lg text-white focus:outline-none focus:border-blue-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-blue-200 mb-2",children:"Gender *"}),e.jsxs("select",{name:"gender",value:s.gender,onChange:v,required:!0,className:"w-full px-4 py-2 bg-black/30 border border-blue-300/30 rounded-lg text-white focus:outline-none focus:border-blue-400",children:[e.jsx("option",{value:"M",children:"M (Prince)"}),e.jsx("option",{value:"F",children:"F (Princess)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-blue-200 mb-2",children:"Image *"}),e.jsx("input",{type:"file",accept:"image/*",onChange:ae,className:"w-full px-4 py-2 bg-black/30 border border-blue-300/30 rounded-lg text-white focus:outline-none focus:border-blue-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-500 file:text-white file:cursor-pointer"}),s.image&&e.jsx("img",{src:s.image,alt:"Preview",className:"mt-3 w-full h-32 object-cover rounded-lg border border-blue-300/30"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",disabled:j,className:"flex-1 px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg font-semibold hover:from-blue-600 hover:to-purple-700 transition-all disabled:opacity-50",children:j?"Saving...":b?"Update":"Add Candidate"}),b&&e.jsx("button",{type:"button",onClick:le,className:"flex-1 px-6 py-2 bg-gray-600 rounded-lg font-semibold hover:bg-gray-700 transition-all",children:"Cancel"})]})]})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"p-6 rounded-2xl",style:{background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.3)"},children:[e.jsxs("button",{onClick:()=>R(f==="M"?null:"M"),className:"w-full flex items-center justify-between text-2xl font-bold text-blue-300 mb-4 hover:text-blue-200 transition-colors",children:[e.jsxs("span",{children:["ðŸ‘¨ Princes (",B.length,")"]}),f==="M"?e.jsx(K,{className:"w-6 h-6"}):e.jsx(W,{className:"w-6 h-6"})]}),f==="M"&&e.jsx("div",{className:"space-y-4",children:B.length>0?B.map(a=>e.jsx("div",{className:"p-4 rounded-lg border border-blue-300/30 bg-black/20 hover:bg-black/40 transition-all",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("img",{src:`https://zipfile.pythonanywhere.com${a.image}`||"https://via.placeholder.com/80?text=No+Image",alt:a.title,className:"w-20 h-20 object-cover rounded-lg flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-white text-lg",children:a.title}),e.jsx("p",{className:"text-blue-300 text-sm",children:a.location}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-400",children:[e.jsxs("span",{children:["â­ ",a.age]}),e.jsxs("span",{children:["ðŸ“… ",a.date]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>V(a),className:"p-2 bg-blue-500/30 hover:bg-blue-500/50 rounded-lg transition-colors",title:"Edit",children:e.jsx(L,{className:"w-5 h-5 text-blue-300"})}),e.jsx("button",{onClick:()=>a.id&&Y(a.id),className:"p-2 bg-red-500/30 hover:bg-red-500/50 rounded-lg transition-colors",title:"Delete",children:e.jsx(J,{className:"w-5 h-5 text-red-300"})})]})]})},a.id)):e.jsx("p",{className:"text-gray-400 text-center py-8",children:"No princes yet"})})]}),e.jsxs("div",{className:"p-6 rounded-2xl",style:{background:"rgba(147, 51, 234, 0.1)",border:"1px solid rgba(147, 51, 234, 0.3)"},children:[e.jsxs("button",{onClick:()=>R(f==="F"?null:"F"),className:"w-full flex items-center justify-between text-2xl font-bold text-purple-300 mb-4 hover:text-purple-200 transition-colors",children:[e.jsxs("span",{children:["ðŸ‘© Princesses (",I.length,")"]}),f==="F"?e.jsx(K,{className:"w-6 h-6"}):e.jsx(W,{className:"w-6 h-6"})]}),f==="F"&&e.jsx("div",{className:"space-y-4",children:I.length>0?I.map(a=>e.jsx("div",{className:"p-4 rounded-lg border border-purple-300/30 bg-black/20 hover:bg-black/40 transition-all",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("img",{src:`https://zipfile.pythonanywhere.com${a.image}`||"https://via.placeholder.com/80?text=No+Image",alt:a.title,className:"w-20 h-20 object-cover rounded-lg flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-white text-lg",children:a.title}),e.jsx("p",{className:"text-purple-300 text-sm",children:a.location}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-400",children:[e.jsxs("span",{children:["â­ ",a.age]}),e.jsxs("span",{children:["ðŸ“… ",a.date]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>V(a),className:"p-2 bg-purple-500/30 hover:bg-purple-500/50 rounded-lg transition-colors",title:"Edit",children:e.jsx(L,{className:"w-5 h-5 text-purple-300"})}),e.jsx("button",{onClick:()=>a.id&&Y(a.id),className:"p-2 bg-red-500/30 hover:bg-red-500/50 rounded-lg transition-colors",title:"Delete",children:e.jsx(J,{className:"w-5 h-5 text-red-300"})})]})]})},a.id)):e.jsx("p",{className:"text-gray-400 text-center py-8",children:"No princesses yet"})})]})]})]}),p==="performers"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"p-6 rounded-2xl sticky top-8",style:{background:"rgba(147, 51, 234, 0.1)",border:"1px solid rgba(147, 51, 234, 0.3)"},children:[e.jsxs("h2",{className:"text-2xl font-bold text-purple-300 mb-6 flex items-center gap-2",children:[e.jsx(q,{className:"w-6 h-6"}),A?"Edit Performer":"Add New Performer"]}),e.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"Name *"}),e.jsx("input",{type:"text",name:"name",value:g.name,onChange:te,placeholder:"Enter performer name...",required:!0,className:"w-full px-4 py-2 bg-black/30 border border-purple-300/30 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-purple-400"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"Photo"}),e.jsx("input",{type:"file",accept:"image/*",onChange:se,className:"w-full px-4 py-2 bg-black/30 border border-purple-300/30 rounded-lg text-white focus:outline-none focus:border-purple-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-purple-500 file:text-white file:cursor-pointer"}),g.photo&&e.jsx("img",{src:g.photo,alt:"Preview",className:"mt-3 w-full h-32 object-cover rounded-lg border border-purple-300/30"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"submit",disabled:j,className:"flex-1 px-6 py-2 bg-gradient-to-r from-purple-500 to-pink-600 rounded-lg font-semibold hover:from-purple-600 hover:to-pink-700 transition-all disabled:opacity-50",children:j?"Saving...":A?"Update":"Add Performer"}),A&&e.jsx("button",{type:"button",onClick:ce,className:"flex-1 px-6 py-2 bg-gray-600 rounded-lg font-semibold hover:bg-gray-700 transition-all",children:"Cancel"})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"p-6 rounded-2xl",style:{background:"rgba(147, 51, 234, 0.1)",border:"1px solid rgba(147, 51, 234, 0.3)"},children:[e.jsxs("h2",{className:"text-2xl font-bold text-purple-300 mb-4",children:["ðŸŽ­ Performers (",S.length,")"]}),e.jsx("div",{className:"space-y-4",children:S.length>0?S.map(a=>e.jsx("div",{className:"p-4 rounded-lg border border-purple-300/30 bg-black/20 hover:bg-black/40 transition-all",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("img",{src:`https://zipfile.pythonanywhere.com${a.photo}`||"https://via.placeholder.com/80?text=No+Image",alt:a.name,className:"w-20 h-20 object-cover rounded-lg flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-white text-lg",children:a.name}),e.jsx("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-400",children:e.jsxs("span",{children:["ðŸ“… ",new Date(a.created_at||"").toLocaleDateString()]})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>ne(a),className:"p-2 bg-purple-500/30 hover:bg-purple-500/50 rounded-lg transition-colors",title:"Edit",children:e.jsx(L,{className:"w-5 h-5 text-purple-300"})}),e.jsx("button",{onClick:()=>a.id&&ie(a.id),className:"p-2 bg-red-500/30 hover:bg-red-500/50 rounded-lg transition-colors",title:"Delete",children:e.jsx(J,{className:"w-5 h-5 text-red-300"})})]})]})},a.id)):e.jsx("p",{className:"text-gray-400 text-center py-8",children:"No performers yet"})})]})})]})]})]})})}export{ge as default};
